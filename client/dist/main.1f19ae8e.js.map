{"version":3,"sources":["main.js"],"names":["app","Vue","el","data","message","currentPage","articles","email","password","onDashboard","title","content","category","drafts","methods","changePage","page","getArticles","axios","get","headers","localStorage","getItem","then","console","log","result","catch","err","userLogin","post","setItem","access_token","toastr","warning","userLogout","removeItem","userRegister","username","postArticle","getDrafts","created"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["\nvar app = new Vue({\n    el: '#app',\n    data: {\n        message : 'Hello Vue!',\n        currentPage: 'landingpage',\n        articles: [],\n        email: '',\n        password: '',\n        onDashboard: 'createArticle',\n        title: '',\n        content: '', \n        category: '',\n        drafts: []\n          \n    },\n    methods: {\n        changePage(page) {\n            this.currentPage = page\n        },\n        getArticles() {\n            axios.get('http://localhost:3000/articles', {\n                headers: localStorage.getItem('access_token')\n            })\n                 .then(({ data }) => {\n                     console.log(data)\n                     this.articles = data.result\n                 })\n                 .catch(err => {\n                     console.log(err)\n                 })\n        },\n        userLogin() {\n            axios.post('http://localhost:3000/users/login', {\n                email: this.email,\n                password: this.password\n            })\n                 .then(({data}) => {\n                     this.email = ''\n                     this.password = ''\n                     console.log(data)\n                     localStorage.setItem('access_token', data.access_token) \n                     this.currentPage = 'dashboard'\n                 })\n                 .catch(err => {\n                     toastr.warning('Login failed. Please check your email/username')\n                     console.log(err)\n                 })  \n        },\n        userLogout() {\n            this.currentPage = 'landingpage'\n            localStorage.removeItem('access_token')\n        },\n        userRegister(){\n            axios.post('http://localhost:3000/users/register', {\n                username: this.username,\n                email: this.email,\n                password: this.password\n            })\n            .then(({data}) => {\n                this.currentPage = 'loginform'\n            })\n            .catch(err => {\n                console.log(err)\n            })\n        },\n        postArticle(){\n            let access_token = localStorage.getItem('access_token')\n            console.log('masuk post article')\n            axios.post('http://localhost:3000/articles', {\n                title: this.title,\n                category: this.category,\n                content: this.content,\n            },{\n                headers: { \n                    access_token: access_token\n                }\n            })\n            .then(result => {\n                this.title = ''\n                this.content = ''\n                this.currentPage = 'landingpage'\n            })\n            .catch(err => {\n                console.log(err)\n            })\n            \n        },\n        getDrafts() {\n            axios.get('http://localhost:3000/articles/drafts', {\n                headers: localStorage.getItem('access_token')\n            })\n            .then(({ data }) => {\n                console.log(data)\n                this.drafts = data.result\n            })\n            .catch(err => {\n                console.log(err)\n            })\n        }\n        \n    },\n    created() {\n        let access_token = localStorage.getItem('access_token')\n        if (access_token) {\n            this.currentPage = 'dashboard'\n            if (this.currentPage === 'dashboard' && this.onDashboard === 'viewPublished') {\n                this.getArticles()\n            } else if (this.currentPage === 'dashboard' && this.onDashboard === 'viewDrafts') {\n                this.getDrafts()\n            }\n        } else {\n            this.currentPage = 'landingpage'\n            this.getArticles()\n        }\n        this.getDrafts()\n        this.getArticles()\n    }\n})"]}