{"version":3,"sources":["assets/js/main.js"],"names":["app","Vue","el","data","user","username","email","password","articles","search","currentPage","searchArticles","article","title","content","methods","changePage","pageName","signUp","axios","post","then","response","catch","err","console","log","message","signIn","localStorage","setItem","access_token","getUserArticles","signOut","removeItem","getArticles","length","get","headers","getItem","writeArticle","getOneArticle","id","publishArticle","patch","editArticle","put","deleteArticle","delete","created"],"mappings":"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","file":"main.962526be.js","sourceRoot":"..","sourcesContent":["const app = new Vue({\r\n    el: '#app',\r\n    data: {\r\n        user : {\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n            articles: [],\r\n            search: '',\r\n        },\r\n        currentPage: 'landing',\r\n        searchArticles: [],\r\n        article : {\r\n            title : '',\r\n            content: ''\r\n        }\r\n    },\r\n    methods: {\r\n        changePage(pageName) {\r\n            this.currentPage = pageName\r\n            if (pageName === 'landing') {\r\n                this.user.username = '',\r\n                this.user.password = '',\r\n                this.user.email = ''\r\n            }\r\n        },\r\n        signUp() {\r\n            axios.post('http://localhost:3000/users', {\r\n                username: this.user.username,\r\n                email: this.user.email,\r\n                password: this.user.password\r\n            })\r\n                .then(response => {\r\n                    this.user.username = '',\r\n                    this.user.currentPage = 'signIn'\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        },\r\n        signIn() {\r\n            axios.post('http://localhost:3000/users/signin', {\r\n                email: this.user.email,\r\n                password: this.user.password\r\n            })\r\n                .then(response => {\r\n                    localStorage.setItem('access_token', response.data.access_token)\r\n                    this.currentPage = 'dashboard'\r\n                    this.user.email = '',\r\n                    this.user.password = ''\r\n                    this.getUserArticles()\r\n                })\r\n                .catch(err => {\r\n                    this.\r\n                    console.log(err.message)\r\n                })\r\n        },\r\n        signOut() {\r\n            localStorage.removeItem('access_token')\r\n            this.currentPage = 'landing'\r\n        },\r\n        getArticles() {\r\n            if (this.user.search.length === 0) {\r\n                axios.get('http://localhost:3000/articles')\r\n                    .then(( {data} )  => {\r\n                        this.searchArticles = data.data\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err.message)\r\n                    })\r\n            } else {\r\n                axios.get(`http://localhost:3000/articles/?keyword=${this.user.search}`, {\r\n                    headers: {\r\n                        access_token: localStorage.getItem('access_token')\r\n                    }\r\n                })\r\n                    .then(( {data} ) => {\r\n                        this.searchArticles = data.data\r\n                        this.user.search = ''\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err.message)\r\n                    })\r\n            }\r\n        },\r\n        getUserArticles() {\r\n            axios.get('http://localhost:3000/articles/me', {\r\n                headers: {\r\n                    access_token: localStorage.getItem('access_token')\r\n                }\r\n            })\r\n                .then(( {data} ) => {\r\n                    this.user.articles = data.data\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        },\r\n        writeArticle() {\r\n            axios.post('http://localhost:3000/articles', {\r\n                title: this.article.title,\r\n                content: this.article.content\r\n            }, {\r\n                headers: {\r\n                    access_token: localStorage.getItem('access_token')\r\n                }\r\n            })\r\n                .then(({ data }) => {\r\n                    this.article.title = ''\r\n                    this.article.content = ''\r\n                    this.getUserArticles()\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        },\r\n        getOneArticle(id) {\r\n            axios.get(`http://localhost:3000/articles/${id}`, {\r\n                headers : {\r\n                    access_token: localStorage.getItem('access_token')\r\n                }\r\n            })\r\n                .then(({ data }) => {\r\n                    this.article.title = data.data.title\r\n                    this.article.content = data.data.article\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n        },\r\n        publishArticle(id) {\r\n            axios.patch(`http://localhost:3000/articles/publish/?articleid=${id}`, {\r\n                headers: {\r\n                    access_token: localStorage.getItem('access_token')\r\n                }\r\n            })\r\n                .then(( {data} ) => {\r\n                    this.getUserArticles();\r\n                    this.getArticles();\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        },\r\n        editArticle(id) {\r\n            axios.put(`http://localhost:3000/articles/publish/?articleid=${id}`, {\r\n                title: this.article.title,\r\n                content: this.article.content\r\n            },{\r\n                headers: {\r\n                    access_token: localStorage.getItem('access_token')\r\n                }\r\n            })\r\n                .then(({data}) => {\r\n                    this.getArticles()\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        },\r\n        deleteArticle(id) {\r\n            axios.delete(`http://localhost:3000/artices/${id}`, {\r\n                headers: {\r\n                    access_token: localStorage.getItem('access_token')\r\n                }\r\n            })\r\n                .then(({ data }) => {\r\n                    this.getArticles()\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        }\r\n    },\r\n    created() {\r\n        if(localStorage.getItem('access_token')) {\r\n            this.currentPage = 'dashboard';\r\n            this.getUserArticles()\r\n        }\r\n        this.getArticles()\r\n    },\r\n})"]}